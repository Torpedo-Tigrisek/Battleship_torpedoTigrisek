<!DOCTYPE html>
<html>
<head>
    <title>Battleship Game</title>
    <style>
        body {
            text-align: center;
        }

        .container {
            display: flex;
            justify-content: center;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(10, 40px);
            grid-template-rows: repeat(10, 40px);
            gap: 2px;
            border: 2px solid #000;
            width: 420px;
        }

        .cell {
            width: 40px;
            height: 40px;
            border: 1px solid #ccc;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .black-point {
            width: 10px;
            height: 10px;
            background: black;
            border-radius: 50%;
        }

        .ship {
            border: 1px solid blue; /* Updated border color to blue */
            background-color: transparent; /* Removed background color */
        }

        .hidden {
            display: none; /* Hide the ship classes */
        }

        .board {
            margin-right: 20px;
        }

        #enemy-grid .cell:hover {
            border: 1px solid green; /* Change frame color to green */
        }
    </style>
</head>
<body>
<h1>Place Your Ships</h1>
<div class="container">
    <div class="board">
        <h2>Your Board</h2>
        <div class="grid" id="player-grid"></div>
    </div>
    <div class="board">
        <h2>Enemy's Board</h2>
        <div class="grid" id="enemy-grid"></div>
    </div>
</div>

<div id="ships">
    <div class="ship" draggable="true" id="carrier" data-size="4">Carrier</div>
    <div class="ship" draggable="true" id="boat" data-size="3">Boat</div>
    <div class="ship" draggable="true" id="battleship" data-size="3">Battleship</div>
    <div class="ship" draggable="true" id="ship" data-size="2">Ship</div>
    <div class="ship" draggable="true" id="cruiser" data-size="2">Cruiser</div>
    <div class="ship" draggable="true" id="submarine" data-size="2">Submarine</div>
    <div class="ship" draggable="true" id="cannon" data-size="1">Cannon</div>
    <div class="ship" draggable="true" id="predator" data-size="1">Predator</div>
    <div class="ship" draggable="true" id="gun machine" data-size="1">Gun machine</div>
    <div class="ship" draggable="true" id="torpedo" data-size="1">Torpedo</div>
</div>

<script>
    const playerGrid = document.getElementById("player-grid");
    const enemyGrid = document.getElementById("enemy-grid");
    const gridSize = 10;

    function createShipElement(ship) {
        const shipElement = document.createElement("div");
        shipElement.className = "cell ship";
        shipElement.style.width = ship.size * 40 + "px";
        shipElement.setAttribute("draggable", true);
        shipElement.textContent = ship.name;
        document.getElementById("ships").appendChild(shipElement);

        shipElement.addEventListener("dragstart", e => {
            e.dataTransfer.setData("text/plain", ship.name);
        });
    }

    function resetShipPlacement(shipElement) {
        shipElement.classList.remove("placed");
    }

    const ships = [
        { name: "Carrier", size: 4 },
        { name: "Boat", size: 3 },
        { name: "Battleship", size: 3 },
        { name: "Ship", size: 2 },
        { name: "Cruiser", size: 2 },
        { name: "Submarine", size: 2 },
        { name: "Cannon", size: 1 },
        { name: "Predator", size: 1 },
        { name: "Gun machine", size: 1 },
        { name: "Torpedo", size: 1 }
    ];

    ships.forEach(ship => {
        createShipElement(ship);
    });

    for (let i = 0; i < gridSize * gridSize; i++) {
        const playerCell = document.createElement("div");
        playerCell.className = "cell";
        playerGrid.appendChild(playerCell);

        const enemyCell = document.createElement("div");
        enemyCell.className = "cell";
        enemyGrid.appendChild(enemyCell);

        playerCell.addEventListener("dragover", e => {
            e.preventDefault();
        });

        enemyCell.addEventListener("dragover", e => {
            e.preventDefault();
        });

        playerCell.addEventListener("drop", e => {
            e.preventDefault();
            const shipName = e.dataTransfer.getData("text/plain");
            const ship = ships.find(s => s.name === shipName);
            if (ship) {
                const cells = document.querySelectorAll("#player-grid .cell");
                const index = Array.from(cells).indexOf(playerCell);
                if (checkValidPlacement(index, ship.size)) {
                    for (let i = 0; i < ship.size; i++) {
                        cells[index + i].classList.add("ship");
                    }
                    // Mark ship as placed
                    e.target.classList.add("placed");
                    resetShipPlacement(document.querySelector(`#ships #${ship.name}`));
                    document.querySelector(`#ships #${ship.name}`).classList.add("hidden");
                }
            }
        });

        enemyCell.addEventListener("click", e => {
            addBlackPoint(e.target);
        });
    }

    function checkValidPlacement(startIndex, shipSize) {
        const cells = document.querySelectorAll("#player-grid .cell");
        for (let i = 0; i < shipSize; i++) {
            const cell = cells[startIndex + i];
            if (!cell || cell.classList.contains("ship") || cell.classList.contains("placed")) {
                return false;
            }
        }
        return true;
    }

    function addBlackPoint(cell) {
        const blackPoint = document.createElement("div");
        blackPoint.className = "black-point";
        cell.appendChild(blackPoint);
    }
</script>
</body>
</html>

